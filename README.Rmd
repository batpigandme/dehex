---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# {dehex}

<!-- badges: start -->
[![Project Status: Concept – Minimal or no implementation has been done
yet, or the repository is only intended to be a limited example, demo,
or
proof-of-concept.](https://www.repostatus.org/badges/latest/concept.svg)](https://www.repostatus.org/#concept)
[![R-CMD-check](https://github.com/matt-dray/dehex/workflows/R-CMD-check/badge.svg)](https://github.com/matt-dray/dehex/actions)
[![Codecov test coverage](https://codecov.io/gh/matt-dray/dehex/branch/main/graph/badge.svg)](https://codecov.io/gh/matt-dray/dehex?branch=main)
<!-- badges: end -->

'Dehex', from [Wiktionary](https://en.wiktionary.org/wiki/dehex):

> To remove a hex (a spell, especially an evil spell).

An R package containing simple functions to help me train myself to quickly 'read' a colour from its hex code. I'm colourblind (a deuteranope) so this might be a useful skill.

⚠ The package is very much a work-in-progress and things may change or break at any time.

The package functions follow the five steps in [David DeSandro's dotCSS 2018 talk](https://metafizzy.co/blog/read-color-hex-codes/) ([thanks Maëlle](https://twitter.com/ma_salmon/status/1420726230194794496?s=20)):

1. Three-digit shorthand
1. Bar chart
1. Hue from shape
1. Lightness from total
1. Saturation from range

You simplify your hex code, convert it to a bar chart of its RGB values, and then assess that for hue, lightness and saturation. The result is a colour name in the form 'dark muted azure', for example

## Install

Install the development version from GitHub with:
 
```{r install, eval=FALSE}
remotes::install_github("matt-dray/dehex")
```

## Three-digit shorthand

First, convert a full six-character hex code to its three-character shortcode. This takes the first value from each pair of characters.

```{r ex-shorten}
long <- "#E69DFB"
short <- dehex::dh_shorten(long)
short
```

You could also generate a random one with `dh_random()`.

## Bar chart

Use `dh_graph()` to print to the console a bar chart that shows the decimal values of red (R), green (G) and blue (B) for your shortened hex code. The RGB columns are printed in colour in RStudio, thanks to [the {crayon} package](https://github.com/r-lib/crayon).

```{r ex-graph}
dehex::dh_graph(short)
```

Note that the chart is adorned by extra information that tells you something about the hue (H, i.e. the relative 'rank' of each RGB channel), lightness (L, i.e. the RGB average) and saturation (S, i.e. the RGB range). You can remove these guides by setting the `adorn_*` arguments to `FALSE`.

## Hue from shape

To assess the hue of your hex code, compare its RGB profile from `dh_graph()` to the guide provided by `dh_guide("H")`. The exact amounts don't matter; it's the relative values of RGB that we care about. For this reason, the end of each bar shows you the relative `rank()` of each channel (smallest value is ranked '1' and so on).

```{r ex-hue}
dehex::dh_guide("H")
```

## Lightness from total

To assess the lightness of your hex code, compare its RGB profile from `dh_graph()` to the guide provided by `dh_guide("L")`. A higher total RGB means it's lighter in colour, but I've chosen to show the mean value as a guide.

```{r ex-light}
dehex::dh_guide("L")
```

## Saturation from range

To assess the saturation of your hex code, compare its RGB profile from `dh_graph()` to the guide provided by `dh_guide("L")`. A larger RGB range means a more saturated colour.

```{r ex-sat}
dehex::dh_guide("S")
```

## The solution

You can learn how to describe your hex code's colour by comparing its RGB profile against profiles that describe different hues, saturation and lightness.

Luckily, there's a function that 'solves' the short hex code and returns you the phrase in English. So, for our input `r short`, the 'answer' is:

```{r ex-solve}
dehex::dh_solve(short)
```

TODO: return also the user's hex's bar chart and the matched hue, saturation and lightness bar charts, given a logical argument.

## Code of Conduct

Please note that the {dehex} project is released with a [Contributor Code of Conduct](https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html). By contributing to this project, you agree to abide by its terms.
